---
layout: post
title: 业务领域的识别和拆分
category: 软件架构和设计
keywords: 微服务
---

## 摘要
1. 一个业务领域或子域是一个企业中的业务范围以及在其中进行的活动， 核心子域指业务成功的主要促成因素，是企业的核心竞争力； 通用子域不是核心，但被整个业务系统所使用； 支撑子域不是核心， 不被整个 系统使用， 该能力可从外部购买。
2. 一个业务流程代表了企业的一个业务领域， 业务流程所涉及的数据或角色或是通用子域， 或是支撑子 域， 由其在企业的核心竞争力的角色所决定。 比如企业有统一身份认证， 决策不同部门负责不同的流程 任务， 那么身份认证子域并不产生业务价值，不是业务成功的促成因素，但是所有流程的入口，因而为通用子域，可为单独服务；而部门负责的业务则为核心子域。

3. 领域划分的原则
	* 第一，依据该模型与边界内其他模型或角色关系的紧密程度。比如，是否当该模型变化时，其他模型也需要进行变化；该数据是否通常由当前上下文中的角色在当前活动范围内使用。
	* 第二，服务边界内的业务能力职责应单一，不是完成同一业务能力的模型不放在同一个上下文中。
	* 第三，划分的子域和服务需满足正交原则。领域名字代表的自然语言上下文保持互相独立。
	* 第四，读写分离的原则。例如报表需有单独报表子域。核心子域的划分更多基于来自业务价值的产生方，而非不产生价值的报表系统。
	* 第五、模型在很多业务操作中同时被修改和更新。
	* 第六、组织中业务部分的划分也是一种参考，一个业务部门的存在往往有其独特的业务价值。
4. 领域划分的建议和误区
	* 业务能力还是计算能力？在划分一些貌似通用的领域时，其实只是用到了通用的计算能力而不是业务能力，只需采用通用库的方式进行封装，而无需使用服务的方式。如我们系统的模板服务，是构建通用的模板服务，服务于整个平台的服务；还是每个服务拥有独立的模板模块？
	* 尽早识别剥离通用领域。如身份认证与鉴权领域，是企业系统中最复杂、有相对多变的领域，需要及早隔离它对核心业务的干扰。