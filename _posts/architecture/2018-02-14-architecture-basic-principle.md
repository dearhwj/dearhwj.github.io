---
layout: post
title: 架构必要性普遍原则以及原则之间的依赖关系
category: 架构
keywords: 架构
---

## 原文

原文地址:[http://www.sohu.com/a/215876527_812245](http://www.sohu.com/a/215876527_812245)
### 开发维护架构的必要性

不开发并维护一个基础架构，利用它将系统组织成一致的整体并避免零碎的实现，必将导致测试和集成失败。

### 架构普遍原则——一处一个事实

重复导致错误，所以应该避免。每个事实应该是单一的、不可分解的单元，每个事实必须独立于其他事实。当改变发生时（这是不可避免的），只有一个地方需要修改。

架构普遍原则——一处一个事实——例子
数据库以范式（normalization）之名规范化了。提取公因式（factoring），即同样的功能提取出来，放到独立的模块中。

### 架构普遍原则——自动传播

出于效率的考虑，某些数据或行为常常会重复。为了维护一致性和正确性，这些事实的传播必须在构建时自动进行。

美丽的架构是由一些构建工具支持的，结果导致了元编程（meta programming），将一个事实从一处传播到多处，在那些地方有效地使用它们。

### 架构普遍原则——架构也包含构建

架构不仅包含运行时系统，而且必须包含它的构建方式。只关注运行时代码会导致架构随时间的推移而退化。

### 架构普遍原则——最少量机制

美丽的架构使用一组最少的机制来满足整体的需求。找到每种情况下的“最佳”，会导致各种容易出错的机制的产生，而用极简的方式来添加机制则会得到更小的、更快的、更健壮的系统。

### 架构普遍原则——构建引擎

可扩展的系统依赖于虚拟机的构建，即由更高层提供的数据来“编程”的引擎，一次实现多个应用功能。
“数据驱动的系统”提供了引擎，依赖于系统中的编码常量，让数据来定义特定情况下的具体功能。这些引擎是高度可复用的，也是美丽的。

### 架构普遍原则——O（G），增长的阶
美丽的架构会考虑可能的增长方向，并能够支持这种增长。

### 架构普遍原则——抵制熵增

美丽的架构设计了一条最容易维护的路线，随着时间的推移仍能够保持架构，所以延缓了“系统熵增定律”的效果。

维护者必须适应该架构，这样变更才能与架构保持一致，不增加系统的熵。

### 架构普遍原则——总结

这些原则是高度相关的。

只有实现了自动传播时，一处一个事实才行得通，而自动传播又只有在架构考虑到构建时才有效果。

构建引擎和最少量机制支持一处一个事实。

抵制熵增是长时间保持架构的要求，它靠的是架构包含构建方法并支持自动传播。而且，如果忘记考虑系统将以何种方式增长，将导致架构不稳定，最终会在极端但可预见的环境下失败。

将最少量机制与构建引擎的观点结合起来，就意味着美丽的架构通常包含一组有限的模式，同时支持构建任意的系统扩展，这相当于“按模式扩展”。
