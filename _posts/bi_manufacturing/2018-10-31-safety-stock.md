---
layout: post
title: 安全库存
category: 智能制造
---

## 定义
安全库存（又称保险库存）是指为了防止由于不确定因素（如突发性大量订货或供应商延期交货）影响订货需求而准备的缓冲库存，安全库存用于满足提前期需求。零库存生产，是每个企业追求的目标。但是，零库存生产需要较高的管理水平，一般企业很难做到这一点。因为每日需求量、交货时间、供应商的配合程度，存在较多的不确定因素，这些因素控制不好的话，企业很容易因此断货，而影响生产，进而影响企业的交货，给企业造成损失。所有的业务都面临着不确定性，这种不确定性来源各异。从需求或消费者一方来说，不确定性涉及到消费者购买多少和什么时候进行购买。处理不确定性的一个习惯做法是预测需求，但需求的大小从来都不能准确地预测出。从供应来说，不确定性是获取零售商等的需要，以及完成订单所要的时间。就交付的可靠性来说，不确定性可能来源于运输，还有其他原因也能产生不确定性。不确定性带来的结果通常是一样的，企业要备有安全存货来进行缓冲处理。在给定安全库存的条件下，平均存货可用订货批量的一半和安全库存来描述。 安全库存在正常情况下不动用，只有在库存量过量使用或者送货延迟时，才能使用

## 建立基础

安全库存的确定是建立在数理统计理论基础上的。首先，假设库存的变动是围绕着平均消费速度发生变化，大于平均需求量和小于平均需求量的可能性各占一半，缺货概率为50%。
安全库存越大，出现缺货的可能性越小；但库存越大，会导致剩余库存的出现。应根据不同物品的用途以及客户的要求，将缺货保持在适当的水平上，允许一定程度的缺货现象存在。安全库存的量化计算可根据顾客需求量固定、需求量变化、提前期固定、提前期发生变化等情况，利用正态分布图、标准差、期望服务水平等来求得。



## 产生根源编辑
1. 为缩短交期（Lead time)
2. 投机性的购买
3. 规避风险
4. 缓和季节变动与生产高峰的差距
5. 实施零组件的通用化.
6. 其它诸如营销管理缺失，生产管理和制程不合适，供应来源等原因.


## 原则
下面的三点以供应生产为例说明。对应采购之后直接面对销售时，应该是不缺货（或者即使缺货，但是安全库存足以保障供应周期可以满足客户的容忍度）

1. 不缺料导致停产（保证物流的畅通）；
2. 在保证生产的基础上做最少量的库存；
3. 不呆料。


## 决定因素
1. 物料的使用频率(使用量）
2. 供应商的交期
3. 厂区内的生产周期(含外包）
4. 材料的成本
5. 订单处理期


以上以单位时间内来计。

## 影响因素
(1) 存货需求量的变化、订货间隔期的变化以及交货延误期的长短。预期存货需求量变化越大，企业应保持的安全库存量也越大；同样，在其他因素相同的条件下，订货间隔期、订货提前期的不确定性越大，或预计订货间隔期越长，则存货的中断风险也就越高，安全库存量也应越高。 （2）存货的短缺成本和储存成本。一般地，存货短缺成本的发生概率或可能的发生额越高，企业需要保持的安全库存量就越大。增加安全库存量，尽管能减少存货短缺成本，但会给企业带来储存成本的额外负担。在理想条件下，最优的订货和储存模式可以求得，但在实际操作过程中，订货成本与储存成本反向变化，不确定性带来的风险使得这个自出现商品流通以来就出现的问题一直没有得到有效地解决。（3）一般地，厂商要处理两种流：物流和信息流。
公司内部间的隔阂影响了信息的有效流通，信息的成批处理使得公司内“加速原理”生效，需求信息经常被扭曲或延迟，从而引起采购人员和生产计划制定者的典型反应——“前置时间或安全库存综合症”。该效应继续加强，直到增加过量，相应的成本同时随之上升。过剩的生产能力不断蔓延至整条供应链，扭曲的需求数据开始


引起第二种效应——“存货削减综合症”，厂商不得不选择永久降低产品的销售价格，侵蚀企业的盈利。前一种效应引起过量的存货，公司为了求出路又导致后一种结果，不进行流程改变，这两种效应将持续存在并互相推动。在市场成长期，两种效应的结合所带来的后果常被增长的需求所掩盖，厂商可以生存甚至兴旺而不顾及震荡周期的存在——段时间内，全力处理存货；另一段时间内却又不顾成本的加速生产。
当市场进入平稳发展或下降期后，厂商开始一步步走向衰亡。可以说，在目前企业与企业存在隔阂甚至企业内部门之间也存在隔阂的情况下，信息传递滞后、反应缓慢、成批处理和不确定性是造成上述两种效应的深层原因，应对的根本也在于减少组织隔阂、加强信息疏导并能做到迅速反应。


### 解决办法
1. 改善需求预测。预测越准，意外需求发生的可能性就越小。还可以采取一些方法鼓励用户提前订货;
2. 缩短订货周期与生产周期。这一周期越短，在该期间内发生意外的可能性也越小;
3. 减少供应的不稳定性。其中途径之一是让供应商知道你的生产计划，以便它们能够及早作出安排。
4. 运用统计的手法


## 计算
用最古老的公式：

	安全库存=（预计最大消耗量-平均消耗量）*采购提前期
	
如果用统计学的观点可以变更为：

	安全库存=日平均消耗量*一定服务水平下的前置期标准差
	
计算方法

安全库存量的大小，主要由顾客服务水平（或订货满足）来决定。所谓顾客服务水平，就是指对顾客需求情况的满足程度，公式表示如下：

	顾客服务水平(5%)=1 - 年缺货次数/年订货次数
	
顾客服务水平（或订货满足率）越高，说明缺货发生的情况越少，从而缺货成本就较小，但因增加了安全库存量，导致库存的持有成本上升；而顾客服务水平较低，说明缺货发生的情况较多，缺货成本较高，安全库存量水平较低，库存持有成本较小。因而必须综合考虑顾客服务水平、缺货成本和库存持有成本三者之间的关系，最后确定一个合理的安全库存量。

安全库存的计算原理

安全库存的计算，一般需要借助于统计学方面的知识，对顾客需求量的变化和提前期的变化作为一些基本的假设，从而在顾客需求发生变化、提前期发生变化以及两者同时发生变化的情况下，分别求出各自的安全库存量。即假设顾客的需求服从正态分布，通过设定的显著性水平来估算需求的最大值，从而确定合理的库存。

统计学中的显著性水平α，在物流计划中叫做缺货率，与物流中的服务水平（1-α，订单满足率）是对应的，显著性水平=缺货率=1-服务水平。如统计学上的显著性水平一般取为α=0.05，即服务水平为0.95，缺货率为0.05。服务水平就是指对顾客需求情况的满足程度。


## 设定
### 简介
安全库存的设定一般说来很复杂，虽然有理论公式，但是没有一个标准的设定方法。实际操作中，主要是根据企业以往的历史数据、结合采购员的经验进行设置，而且还需要在实践中不断探索和完善，最终确定出合理的库存量。

### 硬件操作
安全存货通常包含二类：一为需求的机率超过某一特定数量，如：

设定安全存货水平，期使需求超过200的单位的机会只有5%。二为可能造成缺货的期望数量，如：设定安全存货水平，使得库存能符合95%的需求，或者说5%的缺货。但是要如何设定安全库存呢？ 为了要避免在订货送达前，产生存货不足的情况发生，因此这些额外的存货是必要的，如此才可以避免订货前置时间内产生缺货的风险，而这些额外的存货就称为安全库存(safety stock)。所以订购点的库存量（再订购点R）=前置时间之使用量+安全库存量。

库存成本将因安全库存量之产生而上升，但安全库存量可以使得因前置时间及需求变异而产生的缺货现象消失。所以，可以这么说：如果服务水平越高则缺货风险就越低，反之，服务水平越低则缺货风险就越高。

服务水平(service level)意指能以现有存货来供应需求的机率。例如：

假设年需求为1000，则85%服务水平表示850个单位可由存货来满足，而150个单位为缺货。所以说服务水平=1-缺货风险=>缺货风险=1-0.85=0.15。就某一服务水平而言，使用率与前置时间的变异性越大，则为达此一服务水平所需投入的安全库存量也越大。相同道理，就某一固定的使用率与前置时间，如所需服务水平越高，则所需投入的安全库存量同样地也越大。
评估安全存货政策时所需考虑的因素如下：
1. 随着安全存货投资的增加会使顾客服务水平增量会愈来愈少。
1. 对于安全存量投资和顾客服务水平的抉择取决于顾客服务水平的目标， 和达成此目标的的决策法则。
1. 顾客服务水平，安全存货和生产批量(lot size)是交互影响的。
1. 当生产超过需求时，预期存货可提供安全存货的功能。
1. 相依性需求项目的顾客服务水平是100%。

### 软件操作

ERP为了满足不同管理层次的企业，引进了安全库存的概念，又叫保险储备。安全库存在正常情况下不动用，只有在库存量过量使用或者送货延迟时，才能使用。现在剩下的问题就是，安全库存该设置为多少好呢？过少，起不了安全库存的作用，过多，又占比较多的库存资金，平均库存会比较大。在以前，企业一般通过经验来总结，但是，这误差会比较大。

ERP在经济批量模型的基础上，设计了安全库存模型，可以帮助企业找出安全库存的最佳量。下面结合具体例子，来介绍一下这个模型。

现假设企业某材料的年需求量为3600千克，单位储存变动成本为2元，单位缺货成本为4元，交货时间为10天。根据经济订货批量模型，可以计算出，在无安全库存，即零库存的情况下，其经济定货量为300千克，年订货次数为12次。

现在我们要考虑的就是，当安全库存为多少时，安全库存的储存成本与缺货成本之和最小，就是我们最优秀的安全库存。

现在，若我们设安全库存的数量为S，则其储存成本为S*2，现在只要计算出缺货成本，就可以找到最小值。

企业又根据历史经验，总结出了在交货期内的存货需要量及概率分布。

需要量 70 80 90 100 110120 130

概率 0.01 0.01 0.20 0.5 0.2 0.04 0.01

（1）若我们不需要安全库存，即实现零库存生产，也就是说，供应商每天送100千克材料，则这种情况下，平均缺货数量为(110-100)*0.2+(120-100)*0.04+(130-100)*0.01=3.1千克。其中，110-100表示若该日需要110千克材料，而实际供应商只送来100千克，则该日缺货10千克，再乘以这种情况发生的概率，就表示在日需要110千克的情况下，缺货的数量。然后再把各种确货
的情况数量累加起来，就是无安全库存的情况下，可能出现的缺货数量，为3.1千克。则此时安全库存的储存成本与缺货成本之和，即使缺货成本，因为无安全库存，也就无安全库存储存成本，为3.1*4*12=148.8。一次订货的缺货成本为3.1*4，而一年要订货12次，所以，一年总的缺货成本为148.8元。
（2）若我们设置安全库存为10，日进货量为100的话，则一般情况下，一天的最高库存为110。此种情况下，发生缺货的数量为(120-110)*0.04+(130-110)*0.04=0.6千克。其缺货成本为0.6*4*12=28.8元。其储存成本为10*2=20元。两成本之和为48.8元。
（3）若我们设置安全库存为20千克，日进货量为100千克的话，则一般情况下，一天的最高库存为120千克。则发生缺货的数量为(130-120)*0.01=0.1千克，其缺货成本为0.1*4*12=4.8元，其储存成本=20*2=40元，其总共成本支出为44.8元。
（4）若我们设置安全库存为30千克，日进货量为100千克的话，则一般情况下，一天的最高库存为130千克，在日耗用量最大的情况下(130千克)，也能满足需求，即在任何情况下，都不会发生缺货，即其缺货成本为0。其储存成本为30*2=60元。
从以上的分析可以看出，其成本支出最底的情况，是安全库存为20千
克的情况，其总共的成本支出为44.8元，比其他的都要底。可见，安全库存的高低，对企业的成本，影响还是蛮大的。

### ERP操作要领
ERP就是按照以上的基本模型，把每种安全库存的成本都一一算出，我们上面讨论的模型中是以10千克为单位，ERP系统是以1基本单位为递增，算出每中情况的总成本，然后再取最小数，此时对应的安全库存即为最合理的安全库存。但是，我们也可以看到，其计算非常的复杂，一个产品的计算量都这么大，若企业需要安全库存的产品多的话，那计算量真的不可想象。多亏ERP软件，把此模型转化为计算机能接受的模型，就无须人为的计算，为此模型的应用推广，提供了可能性。



### 预测
安全库存对于企业满足一定的客户服务水平是重要的，在企业产品供应上起到缓冲的作用，企业往往根据自身的客户服务水平和库存成本的权衡设置安全库存水平。而在现实情况下，企业的安全库存往往起不到应有的作用，当市场销售繁荣时，根本就没有库存保证供应，缺货水平很高，而在市场萧条时，安全库存显得多余。这主要源于预测的不准确。

安全库存和补货数量的计算方法，因每个公司的库存绩效指标不一样，其结果也不一样，下面是一点看法，仅供参考。（1）要求客户将自己各月的销售数量和当前库存数量发给本公司销售部门。（2）经销商根据预测公式计算客户的合理安全库存建议值。

具体计算方法为： 假设我们从1月开始计算，

A=1月份的安全库存， B=月销售量， Ci=i月安全库存，
C1=A　 C2=(C1+B1)×2/3　 C3=(C2+B1+B2)×2/4　 ……　 Ci=(Ci－1+∑Bn－1)×2/(i+1)
根据客户的不同情况，本公司销售部门在初始阶段为其设定一个安全库存值，等运作起来之后，本公司销售部门计算出安全库存建议，并参考实际情况（如促销或者季节因素）进行相应的修改，下发给客户。如果客户许可本公司销售部门进行供应商库存管理，则本公司销售部门可直接进行补货。
（3）客户将本公司销售部门给定的安全库存建议值作为参考，制定个人的安全库存数量。并计算补货数量，假设为X。补货数量=安全库存建议值+在途库存数量－当前库存－在库未提库存。
（4）本公司销售部门接到客户的补货单后，测算客户的补货数量是否合理，本公司销售部门根据客户的剩余库存数量以及安全库存建议值计算补货数量，假设为Y。 Z=(Y－X)/Y×100% 如果Z在±20%的范围内，则客户的补货数量是合理的，可继续执行。
（5）本公司销售部门继续判断该补货数量是否满足最小补货数量标准，以及客户的信用状况，如果不满足则不执行。
这套计算方法是一个比较详细的流程，在具体执行过程中，一定程度上依赖于该公司销售部门和客户信息系统及时提供的相关数据，该公司销售部门要做好业务员管理和客户的数据采集。


## 确定物料
运用ABC分析法确定了物料的A，B，C等级后根据A，B，C等

级来制订库存： A类料：一般属于成本较高，占整个物料成本的65%左右，可采用定期定购法，尽量没有库存或只做少量的安全库存.但需在数量上做严格的控制。
B类料：属于成本中等，占整个物料成本的25%左右，可采用经济定量采购的方法，可以做一定的安全库存。
C类料：其成本最少，占整个物料成本的10%左右，可采用经济定量采购的方式，不用做安全库存，根据采购费用和库存维持费用之和的最低点，订出一次的采购量。

## 降低库存
1、订货时间尽量接近需求时间.
2、订货量尽量接近需求量
3、库存适量
但是与此同时，由于意外情况发生而导致供应中断、生产中断的危险也随之加大，从而影响到为顾客服务，除非有可能使需求的不确定性和供应的不确定性消除，或减到最小限度。


## 问题措施
(1)改善需求预测。
预测越准，意外需求发生的可能性就越小。还可以采取一些方法鼓励用户提前订货;
(2)缩短订货周期与生产周期
这一周期越短，在该期间内发生意外的可能性也越小;
(3)减少供应的不稳定性
其中途径之一是让供应商知道你的生产计划，以便它们能够及早作出安排。
另一种途径是改善现场管理，减少废品或返修品的数量，从而减少由于这种原因造成的不能按时按量供应。还有一种途径是加强设备的预防维修，以减少由于设备故障而引发的供应中断或延迟;
(4)运用统计的手法
通过对前6个月甚至前1年产品需求量的分析，求出标准差后即得出上下浮动点后做出适量的库存。
